@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens (CSS variables) */
:root {
  --kb-radius-card: 24px;
  --kb-radius-input: 16px;
  --kb-shadow-card: 0 4px 12px rgba(0,0,0,0.10);

  /* Default to light palette; JS toggles these at runtime */
  --kb-bg-canvas: #FAFAFA;
  --kb-bg-surface: #FFFFFF;
  --kb-bg-elevated: #F3F4F6;
  --kb-text: #111827;
  --kb-text-muted: #6B7280;
  --kb-border: #D1D5DB;
  --kb-border-strong: #9CA3AF;
  --kb-brand: #F66B0E;
  --kb-brand-hover: #EA580C;
  --kb-brand-pressed: #C2410C;
  --kb-on-brand: #FFFFFF;
  --kb-success: #16A34A;
  --kb-warning: #D97706;
  --kb-error: #DC2626;
  --kb-info: #2563EB;
  --kb-chart-primary: #F66B0E;
  --kb-chart-benchmark: #14B8A6;
  --kb-illustration-stroke: #111827;
}

/* Dark palette overrides when .dark is present */
.dark:root {
  --kb-bg-canvas: #0B0F16;
  --kb-bg-surface: #111827;
  --kb-bg-elevated: #151A22;
  --kb-text: #F9FAFB;
  --kb-text-muted: #E5E7EB;
  --kb-border: #374151;
  --kb-border-strong: #4B5563;
  --kb-brand: #F97316;
  --kb-brand-hover: #FB923C;
  --kb-brand-pressed: #EA580C;
  --kb-on-brand: #0B0F16;
  --kb-success: #34D399;
  --kb-warning: #FBBF24;
  --kb-error: #F87171;
  --kb-info: #60A5FA;
  --kb-chart-primary: #FB923C;
  --kb-chart-benchmark: #2DD4BF;
  --kb-illustration-stroke: #F9FAFB;
}

html, body { height: 100%; }
body { background: var(--kb-bg-canvas); color: var(--kb-text); }
/* Tailwind components using @apply for common patterns */
@layer components {
  .kb-container { @apply max-w-[1280px] mx-auto p-6; }

  /* Buttons */
  .kb-btn { @apply inline-flex items-center justify-center gap-2 h-10 px-4 font-semibold rounded-full whitespace-nowrap; }
  .kb-btn-primary { @apply text-white bg-brand; }
  .kb-btn-secondary { @apply text-text border border-borderStrong bg-transparent; }
  .kb-flash { @apply animate-flash; }

  /* Nav link */
  .kb-nav-link { @apply rounded-full px-3 py-2; }
  .kb-nav-link.active { @apply text-brand; background: rgba(246,107,14,0.1); }

  /* Cards, inputs, badges */
  .kb-card { @apply bg-surface border border-border rounded-[24px] shadow-[0_4px_12px_rgba(0,0,0,0.10)]; }
  .kb-input { @apply h-11 border border-border rounded-[16px] px-3 bg-surface text-text; }
  .kb-badge { @apply rounded-full py-[2px] px-[10px] text-xs font-bold text-white; }
  .badge-buy { @apply bg-[#16A34A]; }
  .badge-sell { @apply bg-[#DC2626]; }
  .badge-hold { @apply bg-[#6B7280]; }

  /* Table */
  .kb-table th { @apply border-b border-border bg-elevated font-bold text-sm; }
  .kb-table td { @apply border-b border-border; }

  /* Pills */
  .kb-pill { @apply rounded-full border border-border px-3 py-[6px] cursor-pointer inline-flex items-center gap-[6px] whitespace-nowrap; }
  .kb-pill.active { @apply bg-brand border-brand; color: var(--kb-on-brand); }

  /* Modal */
  .kb-modal-backdrop { @apply fixed inset-0 bg-black/40 flex items-center justify-center; }
  .kb-modal { @apply w-[min(640px,92vw)]; }

  /* Misc */
  .kb-ws-dot { @apply w-[10px] h-[10px] rounded-full; }
  .kb-frame { @apply border-2 border-borderStrong rounded-[24px]; }
}

/* keep a few non-apply rules using CSS variables */
.kb-btn-primary:hover { background: var(--kb-brand-hover); }
.kb-btn-secondary:hover { background: rgba(246,107,14,0.08); }
.kb-table tbody tr:last-child td { border-bottom: none; }
